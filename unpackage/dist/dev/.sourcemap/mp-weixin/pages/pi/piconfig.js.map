{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?25d3","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?5474","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?fd50","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?1e49","uni-app:///pages/pi/piconfig.vue","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?920a","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/piconfig.vue?9e15"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,+pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4CntB;eACA;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,uBAFA;AAGA,qBAHA;AAIA,4BAJA;AAKA,sBALA;AAMA,qBANA;AAOA,mCAPA;AAQA,oBARA;AASA,uBATA;AAUA;AACA,sBAXA;AAYA,8BAZA;AAaA,uBAbA;;AAeA,GAjBA;AAkBA;AACA;AACA;AACA;AACA,GAtBA;AAuBA,QAvBA,oBAuBA;AACA;;AAEA;AACA;AACA;;AAEA,GA9BA;AA+BA,QA/BA,oBA+BA;;AAEA,GAjCA;AAkCA;AACA,gDADA,EAlCA;;AAqCA,eArCA,2BAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eADA;AAEA,8BAFA;AAGA,6BAHA;;AAKA,GAhDA;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA;AACA;AACA,KAXA;AAYA;AACA;AACA;AACA,KAfA;AAgBA,cAhBA,wBAgBA;AACA;AACA;AACA;AACA;AACA;AACA,iBADA;AAEA,gCAFA;AAGA,+BAHA;;AAKA,KA1BA;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4DADA;AAEA,uBAFA;AAGA;AACA,6BADA;AAEA,mCAFA;AAGA,+BAHA;AAIA,mCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;;AAGA,iBAJA,EAIA,IAJA;AAKA,eAhBA,MAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBATA,MASA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA;AACA,mBARA,MAQA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAjDA,MAiDA;AACA;AACA;AACA;AACA,kCADA;AAEA,kCAFA;AAGA,gCAHA;;AAKA;AACA;AACA,iDADA;;AAGA,mBAJA,EAIA,IAJA;AAKA;AACA;AACA,aAlFA,MAkFA;AACA;AACA,6CADA;AAEA,8BAFA;AAGA,4BAHA;;AAKA;AACA,WAnGA;;AAqGA;;AAEA,OA1GA,MA0GA;AACA;AACA;AACA,8BADA;;AAGA;AACA;AACA;AACA,KAtJA;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA,KApLA;AAqLA,4BArLA,oCAqLA,CArLA,EAqLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhPA,GAjDA,E;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAs/B,CAAgB,s6BAAG,EAAC,C;;;;;;;;;;;ACA1gC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/pi/piconfig.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/pi/piconfig.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./piconfig.vue?vue&type=template&id=bb2fc530&\"\nvar renderjs\nimport script from \"./piconfig.vue?vue&type=script&lang=js&\"\nexport * from \"./piconfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./piconfig.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pi/piconfig.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piconfig.vue?vue&type=template&id=bb2fc530&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piconfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piconfig.vue?vue&type=script&lang=js&\"","<template>\r\n\t<gracePage :customHeader=\"false\" :isLoading=\"pageLoading\">\r\n\t\t<view slot=\"gBody\" class=\"grace-body\">\r\n\t\t\t\r\n\t\t\t<view class=\"grace-title grace-margin-top\">盘点单</view>\r\n\t\t\t<view class=\"SegmentedControlIn\">\r\n\t\t\t\t<picker mode=\"selector\" @change=\"bindPickerChangeProject\" v-model=\"projectIndex\" :range=\"projectList\" range-key=\"Name\" name=\"Name\">\r\n\t\t\t\t\t<view class=\"grace-space-between grace-title\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{ projectList[projectIndex].Name }}</view>\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-arrow-down\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"grace-title grace-margin-top\">盘点次序</view>\r\n\t\t\t<view class=\"SegmentedControlIn\"><graceSegmentedControl :items=\"piShifts\" :current=\"currentShift\" @change=\"piShiftschange\"></graceSegmentedControl></view>\r\n\t\t\t<view class=\"grace-title grace-margin-top\">盘点方式</view>\r\n\t\t\t<view class=\"SegmentedControlIn\">\r\n\t\t\t\t<graceSegmentedControl :items=\"piModes\" height=\"66rpx\" fontSize=\"26rpx\" :current=\"currentMode\" @change=\"piModeschange\"></graceSegmentedControl>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"grace-margin-top\"></view>\r\n\t\t\t<view class=\"grace-margin-top\"><button type=\"primary\" class=\"grace-button\" @click=\"saveConfig\">保存并开始盘点</button></view>\r\n\r\n\t\t\t<!-- <view class=\"grace-margin-top grace-center\" @click=\"saveConfig\"><text>返回</text></view> -->\r\n\r\n\t\t\t<view class=\"filling\"></view>\r\n\t\t\t\r\n\t\t\t<graceHeaderAlert ref=\"showErrorMessage\" background=\"#FF0036\">\r\n\t\t\t\t<text class=\"grace-h5 grace-white\">{{ errorMessage }}</text>\r\n\t\t\t</graceHeaderAlert>\r\n\t\t\t\r\n\t\t\t<graceHeaderAlert :show=\"showSucessMessage\" background=\"#9DD26D\">\r\n\t\t\t\t<text class=\"grace-icons icon-right grace-white grace-h5\" style=\"margin-right:20rpx;\"></text>\r\n\t\t\t\t<text class=\"grace-h5 grace-white\">{{ sucessMessage }}</text>\r\n\t\t\t</graceHeaderAlert>\r\n\t\t\t\r\n\t\t</view>\r\n\t</gracePage>\r\n</template>\r\n\r\n<script>\r\nimport graceSegmentedControl from '../../graceUI/components/graceSegmentedControl.vue';\r\n// import uniRequest from '../../http/uniRequest.js'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserIsLogin: false,\r\n\t\t\tprojectList: [{}],\r\n\t\t\tprojectIndex: 0,\r\n\t\t\tcurrentProjectInfo: {},\r\n\t\t\tpiShifts: ['初盘'],\r\n\t\t\tcurrentShift: 0,\r\n\t\t\tpiModes: ['按库位', '按商品', '全部'],\r\n\t\t\tcurrentMode: 2,\r\n\t\t\tpageLoading: true,\r\n\t\t\t//showErrorMessage: false,\r\n\t\t\terrorMessage: '',\r\n\t\t\tshowSucessMessage: false,\r\n\t\t\tsucessMessage: ''\r\n\t\t};\r\n\t},\r\n\tonPullDownRefresh: function() {\r\n\t\tthis.pageOnLoad();\r\n\t\tconsole.log('刷新了');\r\n\t\tuni.stopPullDownRefresh();\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.pageOnLoad();\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tif (wx.hideHomeButton) {\r\n\t\t\twx.hideHomeButton();\r\n\t\t}\r\n\t\t// #endif\r\n\t},\r\n\tonShow() {\r\n\t\t\r\n\t},\r\n\tcomponents: {\r\n\t\tgraceSegmentedControl\r\n\t},\r\n\tonReachBottom() {\r\n\t\t//console.log(\"上拉了！！！\");\r\n\t\tvar me = this;\r\n\t\tvar piConfig = { piShit: me.currentShift, piMode: me.currentMode };\r\n\t\tuni.setStorageSync('piConfig', piConfig);\r\n\t\t//me.pirouter(me.currentShift);\r\n\t\tuni.reLaunch({\r\n\t\t\turl: 'pi',\r\n\t\t\tanimationType: 'pop-out',\r\n\t\t\tanimationDuration: 1000\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tbindPickerChangeProject: function(e) {\r\n\t\t\tvar me = this;\r\n\t\t\tme.projectIndex = e.target.value;\r\n\t\t\tme.currentProjectInfo = me.projectList[me.projectIndex];\r\n\t\t\tuni.setStorageSync('currentProjectInfo', me.projectList[me.projectIndex]);\r\n\t\t\tme.updateCurrentProjectInfo();\r\n\t\t},\r\n\t\tpiShiftschange: function(e) {\r\n\t\t\t//console.log(e);\r\n\t\t\tthis.currentShift = e;\r\n\t\t},\r\n\t\tpiModeschange: function(e) {\r\n\t\t\t//console.log(this.piModes[e]);\r\n\t\t\tthis.currentMode = e;\r\n\t\t},\r\n\t\tsaveConfig() {\r\n\t\t\tvar me = this;\r\n\t\t\tvar piConfig = { piShit: me.currentShift, piMode: me.currentMode };\r\n\t\t\tuni.setStorageSync('piConfig', piConfig);\r\n\t\t\t//me.pirouter(me.currentShift);\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: 'pi',\r\n\t\t\t\tanimationType: 'pop-out',\r\n\t\t\t\tanimationDuration: 1000\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tpageOnLoad: function() {\r\n\t\t\tvar me = this;\r\n\t\t\tme.pageLoading = true;\r\n\t\t\t// setTimeout(() => {\r\n\t\t\t// \tme.pageLoading = false;\r\n\t\t\t// }, 1000);\r\n\t\t\tvar serverUrl = me.getServerUrl();\r\n\t\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\t\tif (userInfo != null) {\r\n\t\t\t\t\r\n\t\t\t\t//获取projectList - 开始\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: serverUrl + '/PhysicalInventoryOrder/GetList',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\t\t// me.userIsLogin = false;\r\n\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t// \ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\t// \tduration: 2000,\r\n\t\t\t\t\t\t\t\t// \ticon: 'none'\r\n\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t\t//me.showErrorMessage = !me.showErrorMessage;\r\n\t\t\t\t\t\t\t\tme.errorMessage = \"用户已异地登录\";\r\n\t\t\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: \"../user/login\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (res.data.Data.length > 0) {\r\n\t\t\t\t\t\t\t\t\t//如果projectList不为空，则绑定\r\n\t\t\t\t\t\t\t\t\tme.projectList = res.data.Data;\r\n\t\t\t\t\t\t\t\t\t//console.log(res.data.Data);\r\n\t\t\t\t\t\t\t\t\t//如果Storage里面的project不为空，则下拉菜单显示storage里的project,但是要更新内容\r\n\t\t\t\t\t\t\t\t\tvar currentProjectInfo = me.getCurrentProjectInfo();\r\n\t\t\t\t\t\t\t\t\tif (currentProjectInfo != null) {\r\n\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < me.projectList.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (currentProjectInfo.Id === me.projectList[i].Id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.projectIndex = i;\r\n\t\t\t\t\t\t\t\t\t\t\t\t//刷新me.currentProjectInfo信息并保存到内存\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.currentProjectInfo = me.projectList[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('currentProjectInfo', me.projectList[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t//如果storage里面的project为空，则找到最新的project显示，并把此project保存到storage\r\n\t\t\t\t\t\t\t\t\t\tme.currentProjectInfo = me.projectList[0];\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('currentProjectInfo', me.projectList[0]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t//更新当前项目的状态 - 开始\r\n\t\t\t\t\t\t\t\t\tvar maxShiftNumber = 0;\r\n\t\t\t\t\t\t\t\t\tif (me.currentProjectInfo.IsSecondEnabled == 1) {\r\n\t\t\t\t\t\t\t\t\t\tmaxShiftNumber = 1;\r\n\t\t\t\t\t\t\t\t\t\tme.piShifts = ['初盘', '复盘'];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (me.currentProjectInfo.IsThirdEnabled == 1) {\r\n\t\t\t\t\t\t\t\t\t\tmaxShiftNumber = 2;\r\n\t\t\t\t\t\t\t\t\t\tme.piShifts = ['初盘', '复盘', '三盘'];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar piConfig = me.getPiConfig();\r\n\t\t\t\t\t\t\t\t\t//如果不是第一次进来，则有数值，获取\r\n\t\t\t\t\t\t\t\t\tif (piConfig != null) {\r\n\t\t\t\t\t\t\t\t\t\t//标记当前的选项\r\n\t\t\t\t\t\t\t\t\t\tif (piConfig.piShit > maxShiftNumber) {\r\n\t\t\t\t\t\t\t\t\t\t\tme.currentShift = maxShiftNumber;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tme.currentShift = piConfig.piShit;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tme.currentMode = piConfig.piMode;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t//如果是第一次进入此页面，则赋值为第一个\r\n\t\t\t\t\t\t\t\t\t\tme.currentShift = 0;\r\n\t\t\t\t\t\t\t\t\t\tme.currentMode = 2;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t//更新当前项目的状态 - 结束\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//如果项目列表为空，则提示尚未有盘点项目生成，清空currentProjectInfo，不能进入\r\n\t\t\t\t\t\t\t\t\tuni.removeStorageSync('currentProjectInfo');\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '暂无盘点单',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../user/userguidance'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//获取projectList - 结束\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t//未登录，返回登陆界面\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '../user/login'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//隐藏page Loading\r\n\t\t\tme.pageLoading = false;\r\n\t\t},\r\n\t\tupdateCurrentProjectInfo: function() {\r\n\t\t\tvar me = this;\r\n\t\t\t//更新当前项目的状态 - 开始\r\n\t\t\tvar maxShiftNumber = 0;\r\n\t\t\tif (me.currentProjectInfo.IsSecondEnabled == 1) {\r\n\t\t\t\tmaxShiftNumber = 1;\r\n\t\t\t\tme.piShifts = ['初盘', '复盘'];\r\n\t\t\t}\r\n\t\t\tif (me.currentProjectInfo.IsThirdEnabled == 1) {\r\n\t\t\t\tmaxShiftNumber = 2;\r\n\t\t\t\tme.piShifts = ['初盘', '复盘', '三盘'];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar piConfig = me.getPiConfig();\r\n\t\t\t//如果不是第一次进来，则有数值，获取\r\n\t\t\tif (piConfig != null) {\r\n\t\t\t\t//标记当前的选项\r\n\t\t\t\tif (piConfig.piShit > maxShiftNumber) {\r\n\t\t\t\t\tme.currentShift = maxShiftNumber;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.currentShift = piConfig.piShit;\r\n\t\t\t\t}\r\n\t\t\t\tme.currentMode = piConfig.piMode;\r\n\t\t\t} else {\r\n\t\t\t\t//如果是第一次进入此页面，则赋值为第一个\r\n\t\t\t\tme.currentShift = 0;\r\n\t\t\t\tme.currentMode = 0;\r\n\t\t\t}\r\n\t\t\t//更新当前项目的状态 - 结束\r\n\t\t},\r\n\t\tonNavigationBarButtonTap(e) {\r\n\t\t\tvar me = this;\r\n\t\t\tif (e.type == \"back\") {\r\n\t\t\t\tme.saveConfig();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// updateCurrentProjectInfo: function(projectId) {\r\n\t\t// \t//更新数据或新加数据后，更新projectInfo\r\n\t\t// \tlet me = this;\r\n\t\t// \tlet serverUrl = me.getServerUrl();\r\n\t\t// \tlet userInfo = me.getCurrentUserInfo();\r\n\r\n\t\t// \tuni.request({\r\n\t\t// \t\turl: serverUrl + '/PhysicalInventoryOrder/Get/' + projectId,\r\n\t\t// \t\tmethod: 'POST',\r\n\t\t// \t\theader: {\r\n\t\t// \t\t\tappKey: me.appKey,\r\n\t\t// \t\t\tappSecret: me.appSecret,\r\n\t\t// \t\t\tuserId: userInfo.Id,\r\n\t\t// \t\t\topenId: userInfo.OpenId\r\n\t\t// \t\t},\r\n\t\t// \t\tsuccess: res => {\r\n\t\t// \t\t\tif (res.data.Status) {\r\n\t\t// \t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t// \t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t// \t\t\t\t\tme.userIsLogin = false;\r\n\t\t// \t\t\t\t\tuni.showToast({\r\n\t\t// \t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t// \t\t\t\t\t\tduration: 2000,\r\n\t\t// \t\t\t\t\t\ticon: 'none'\r\n\t\t// \t\t\t\t\t});\r\n\t\t// \t\t\t\t} else {\r\n\t\t// \t\t\t\t\tme.currentProjectInfo = res.data.Data;\r\n\t\t// \t\t\t\t\tuni.setStorageSync('currentProjectInfo', me.currentProjectInfo);\r\n\t\t// \t\t\t\t\tconsole.log('当前更新的项目信息：');\r\n\t\t// \t\t\t\t\tconsole.log(res.data.Data.IsThirdEnabled);\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t} else {\r\n\t\t// \t\t\t\tuni.showToast({\r\n\t\t// \t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t// \t\t\t\t\tduration: 2000,\r\n\t\t// \t\t\t\t\ticon: 'none'\r\n\t\t// \t\t\t\t});\r\n\t\t// \t\t\t}\r\n\t\t// \t\t},\r\n\t\t// \t\tfail: function() {\r\n\t\t// \t\t\tuni.showToast({\r\n\t\t// \t\t\t\ttitle: '网络异常请重试',\r\n\t\t// \t\t\t\tduration: 2000,\r\n\t\t// \t\t\t\ticon: 'none'\r\n\t\t// \t\t\t});\r\n\t\t// \t\t},\r\n\t\t// \t\tcomplete: function() {\r\n\t\t// \t\t\tsetTimeout(function() {\r\n\t\t// \t\t\t\tuni.hideLoading();\r\n\t\t// \t\t\t}, 2000);\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// }\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.SegmentedControlIn {\r\n\twidth: 500rpx;\r\n\tpadding: 20rpx 125rpx;\r\n}\r\n.filling {\r\n\theight: 900rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piconfig.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piconfig.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603765162518\n      var cssReload = require(\"C:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}