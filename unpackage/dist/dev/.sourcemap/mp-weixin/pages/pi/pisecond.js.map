{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?c6fa","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?c389","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?67f3","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?4d9f","uni-app:///pages/pi/pisecond.vue","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?ab30","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pisecond.vue?d158"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,+pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmNntB;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,4BAFA;AAGA,kCAHA;AAIA,qBAJA;AAKA,mCALA;AAMA,oBANA;;AAQA,sBARA;AASA,kBATA;AAUA,gCAVA;AAWA,4BAXA;;AAaA,sCAbA;AAcA,8BAdA;AAeA;AACA;AACA,gBAjBA;AAkBA;AACA;AACA;AACA;;AAEA,kBAvBA;AAwBA;AACA,kBAzBA;AA0BA,kBA1BA;;AA4BA,GA9BA;AA+BA,QA/BA,oBA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;;AAGA,WALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArBA,MAqBA;AACA;AACA;AACA,2BADA;;AAGA;AACA,OA9BA,MA8BA;AACA;AACA;AACA,6BADA;;AAGA;AACA,KAtCA,MAsCA;AACA;AACA;AACA,4BADA;;AAGA;AACA,GA9EA;AA+EA;AACA,8BADA,EA/EA;;AAkFA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA,6BAHA;;AAKA;AACA;AACA,GA1FA;AA2FA,eA3FA,2BA2FA;AACA;AACA;AACA;AACA,gDADA;AAEA,sBAFA;AAGA,oBAHA;;AAKA,KANA,MAMA;AACA;AACA;AACA;AACA,oEADA;AAEA,sBAFA;AAGA,oBAHA;;AAKA;AACA,GA5GA;AA6GA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA,KApBA;AAqBA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA,KAjCA;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA,KAhEA;AAiEA,cAjEA,sBAiEA,SAjEA,EAiEA,OAjEA,EAiEA,QAjEA,EAiEA,QAjEA,EAiEA,SAjEA,EAiEA,SAjEA,EAiEA,QAjEA,EAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,iCAFA;AAGA,6BAHA;AAIA,iCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,4BAHA;;AAKA,aARA,MAQA;AACA;AACA;AACA,iCADA;AAEA,gCAFA;AAGA,8BAHA;;AAKA;AACA,eAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAlCA,MAkCA;AACA;AACA;AACA,2CADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA,SAtDA;AAuDA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA,SA7DA;AA8DA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA,SAlEA;;AAoEA,KAjJA;AAkJA,gBAlJA,wBAkJA,EAlJA,EAkJA,OAlJA,EAkJA,cAlJA,EAkJA,KAlJA,EAkJA;AACA;AACA;AACA;AACA;AACA,sBADA;;;AAIA;AACA,8HADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,iCAFA;AAGA,6BAHA;AAIA,iCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,4BAHA;;AAKA,aARA,MAQA;AACA;AACA,6BADA;AAEA,8BAFA;AAGA,+BAHA;;AAKA;AACA;AACA;AACA,WAlBA,MAkBA;AACA;AACA;AACA,2CADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA,SArCA;AAsCA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA,SA5CA;AA6CA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA,SAjDA;;AAmDA,KA7MA,EA7GA,E;;;;;;;;;;;;;ACnNA;AAAA;AAAA;AAAA;AAAs/B,CAAgB,s6BAAG,EAAC,C;;;;;;;;;;;ACA1gC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/pi/pisecond.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/pi/pisecond.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pisecond.vue?vue&type=template&id=ebc814cc&\"\nvar renderjs\nimport script from \"./pisecond.vue?vue&type=script&lang=js&\"\nexport * from \"./pisecond.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pisecond.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pi/pisecond.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pisecond.vue?vue&type=template&id=ebc814cc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pisecond.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pisecond.vue?vue&type=script&lang=js&\"","<template>\r\n\t<gracePage :customHeader=\"false\">\r\n\t\t<view slot=\"gBody\" class=\"grace-body\">\r\n\t\t\t<!-- <view class=\"grace-margin-top\">\r\n\t\t\t当前项目：{{currentProjectInfo.Name}}\r\n\t\t</view> -->\r\n\t\t\t<view class=\"grace-list\">\r\n\t\t\t\t<view class=\"items\">\r\n\t\t\t\t\t<!-- <view class=\"icons grace-icons icon-filter grace-blue\"></view> -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t当前轮次：\r\n\t\t\t\t\t\t<text>{{ piShifts[currentShift] }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"items\">\r\n\t\t\t\t\t<!-- <view class=\"icons grace-icons icon-filter grace-blue\"></view> -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t当前方式：\r\n\t\t\t\t\t\t<text>{{ piModes[currentMode] }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"ucenter-line\"></view>\r\n\t\t\t<view class=\"grace-form\">\r\n\t\t\t\t<view v-if=\"currentMode == 0\" class=\"grace-items\">\r\n\t\t\t\t\t<text class=\"grace-icons icon-position grace-light-blue\"></text>\r\n\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t<view class=\"grace-label\">库位</view>\r\n\t\t\t\t\t<input class=\"input text-align-left\" name=\"locationCode\" v-model=\"locationCode\" :disabled=\"locationCodeDisable\" placeholder=\"请扫库位或手动输入\" />\r\n\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"clearLocationCode\" v-if=\"locationCode.length > 0 && !locationCodeDisable\"></view>\r\n\t\t\t\t\t<!-- <button type=\"default\" class=\"grace-button\" @tap=\"searchByLocation\">查找</button> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"currentMode == 0\"><button type=\"primary\" @click=\"searchByLocation\">查找</button></view>\r\n\r\n\t\t\t\t<view v-if=\"currentMode == 1\" class=\"grace-items\">\r\n\t\t\t\t\t<text class=\"dotnet-icons icon-wms-scan grace-blue\"></text>\r\n\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t<view class=\"grace-label\">商品</view>\r\n\t\t\t\t\t<input class=\"input text-align-left\" name=\"itemCode\" v-model=\"itemCode\" :disabled=\"itemCodeDisable\" placeholder=\"请扫料号或手动输入\" />\r\n\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"clearItemCode\" v-if=\"itemCode.length > 0 && !itemCodeDisable\"></view>\r\n\t\t\t\t\t<!-- <button type=\"default\" class=\"grace-button\" @tap=\"searchByItem\">查找</button> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"currentMode == 1\"><button type=\"primary\" @tap=\"searchByItem\">查找</button></view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"currentMode != 2\" class=\"ucenter-line\"></view>\r\n\r\n\t\t\t<graceNav\r\n\t\t\t\t:items=\"categories\"\r\n\t\t\t\tlineHeight=\"60rpx\"\r\n\t\t\t\t:isCenter=\"true\"\r\n\t\t\t\t:currentIndex=\"currentCategorieIndex\"\r\n\t\t\t\t:size=\"200\"\r\n\t\t\t\tactiveLineBg=\"#3688FF\"\r\n\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\tactiveColor=\"#3688FF\"\r\n\t\t\t\tactiveLineWidth=\"100%\"\r\n\t\t\t\tactiveLineHeight=\"3rpx\"\r\n\t\t\t\t:margin=\"10\"\r\n\t\t\t\t@change=\"navChange\"\r\n\t\t\t></graceNav>\r\n\r\n\t\t\t<view v-for=\"piItem in piList\" :key=\"piItem.Id\" class=\"grace-card-view\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view v-if=\"piItem.TotalOpenLine == 0\" class=\"img\">\r\n\t\t\t\t\t\t<navigator open-type=\"reLaunch\" :url=\"'CycleCountingOrder?ordernumber=' + piItem.OrderNumber\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-done.png\" />\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"img\">\r\n\t\t\t\t\t\t<navigator open-type=\"reLaunch\" :url=\"'CycleCountingOrder?ordernumber=' + piItem.OrderNumber\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-undone.png\" />\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t待处理行数：\r\n\t\t\t\t\t\t\t<text :class=\"piItem.TotalOpenLine > 0 ? 'grace-badge grace-bg-red' : ''\">{{ piItem.TotalOpenLine }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t已处理行数：\r\n\t\t\t\t\t\t\t<text class=\"grace-green\">{{ piItem.TotalClosedLine }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t总行数：\r\n\t\t\t\t\t\t\t<text>{{ piItem.TotalLine }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 按商品：1，按Location：2 -->\r\n\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t<navigator open-type=\"reLaunch\" :url=\"'CycleCountingOrder?ordernumber=' + piItem.OrderNumber\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-check\">\r\n\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t盘点单号：{{ piItem.OrderNumber }}\r\n\t\t\t\t\t\t\t<text class=\"grace-icons icon-arrow-right pull-right\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-for=\"(piItem, index) in piList\" :key=\"index\" class=\"grace-card-view\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view v-if=\"piItem.isCounted == 0\" class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-todo.png\" />\r\n\t\t\t\t\t\t<!-- <view>待处理</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-handled.png\" />\r\n\t\t\t\t\t\t<!-- <view>已处理</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t仓库：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-blue\">{{ piItem.WarehouseCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>库位：<text :class=\"CCOrder.OrderTypeId == 1 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.LocationCode}}</text></view> -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLocationCodeEnabled == 1\">\r\n\t\t\t\t\t\t\t库位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LocationCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>商品：<text :class=\"CCOrder.OrderTypeId == 2 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.ItemCode}}</text></view> -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t商品：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLotNumberEnabled == 1\">\r\n\t\t\t\t\t\t\t批次号码：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LotNumber }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\">\r\n\t\t\t\t\t\t\t系统数量：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-black\">{{ piItem.SystemQuantity }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- \t\t\t\t\t<view v-if=\"\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\">\r\n\t\t\t\t\t\t\t实际数量：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ CCOrder.ActualQuantity }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t单位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.InventoryUnit }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t备注：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Remark }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 按商品：1，按Location：2 -->\r\n\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t<view @tap=\"actionUpdate(CCOrder.Id, CCOrder.Quantity, index)\">\r\n\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-like grace-green\">\r\n\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t账实相符\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t@tap=\"\r\n\t\t\t\t\t\t\tactionwrongornewadd(\r\n\t\t\t\t\t\t\t\tCCOrder.Id,\r\n\t\t\t\t\t\t\t\tCCOrder.OrderNumber,\r\n\t\t\t\t\t\t\t\t'wrongqty',\r\n\t\t\t\t\t\t\t\tCCOrder.OrderTypeId,\r\n\t\t\t\t\t\t\t\tCCOrder.WarehouseCode,\r\n\t\t\t\t\t\t\t\tCCOrder.LocationCode,\r\n\t\t\t\t\t\t\t\tCCOrder.ItemCode,\r\n\t\t\t\t\t\t\t\tCCOrder.Quantity\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-question grace-red\">\r\n\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t数量有误\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @tap=\"actionUpdate(CCOrder.Id, 0, index)\">\r\n\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-dislike grace-gray\">\r\n\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t无此库存\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"grace-margin-top\">\r\n\t\t\t\t<view\r\n\t\t\t\t\t@tap=\"\r\n\t\t\t\t\t\tactionwrongornewadd(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tCCOrderHead.OrderNumber,\r\n\t\t\t\t\t\t\t'newadd',\r\n\t\t\t\t\t\t\tCCOrderHead.OrderTypeId,\r\n\t\t\t\t\t\t\tCCOrderHead.WarehouseCode,\r\n\t\t\t\t\t\t\tCCOrderHead.LocationCode,\r\n\t\t\t\t\t\t\tCCOrderHead.ItemCode,\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<button class=\"btn-submit\" type=\"primary\">添加实物库存数据</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</gracePage>\r\n</template>\r\n\r\n<script>\r\nimport graceLoading from '../../graceUI/components/graceLoading.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserIsLogin: false,\r\n\t\t\tcurrentProjectInfo: {},\r\n\t\t\tpiShifts: ['初盘', '复盘', '三盘'],\r\n\t\t\tcurrentShift: 0,\r\n\t\t\tpiModes: ['按库位', '按商品', '全部'],\r\n\t\t\tcurrentMode: 0,\r\n\r\n\t\t\tlocationCode: '',\r\n\t\t\titemCode: '',\r\n\t\t\tlocationCodeDisable: false,\r\n\t\t\titemCodeDisable: false,\r\n\r\n\t\t\tcategories: ['未完成', '已完成', '全部'],\r\n\t\t\tcurrentCategorieIndex: 0,\r\n\t\t\t// top : 0,\r\n\t\t\t// 盘点数据\r\n\t\t\tpiList: [],\r\n\t\t\t// 页码\r\n\t\t\t//page : 1,\r\n\t\t\t// 分类 id\r\n\t\t\t//cate : 0,\r\n\r\n\t\t\tpageIndex: 0,\r\n\t\t\t//pageIndex从0开始\r\n\t\t\tpageSize: 20,\r\n\t\t\tpageCount: 0\r\n\t\t};\r\n\t},\r\n\tonShow() {\r\n\t\tvar me = this;\r\n\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\tif (userInfo != null) {\r\n\t\t\tvar currentProjectInfo = me.getCurrentProjectInfo();\r\n\t\t\tif (currentProjectInfo != null) {\r\n\t\t\t\tme.currentProjectInfo = currentProjectInfo;\r\n\t\t\t\tvar piConfig = me.getPiConfig();\r\n\t\t\t\tif (piConfig != null) {\r\n\t\t\t\t\tvar maxShiftNumber = 0;\r\n\t\t\t\t\tif (currentProjectInfo.IsSecondEnabled == 1) {\r\n\t\t\t\t\t\tmaxShiftNumber = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (currentProjectInfo.IsThirdEnabled == 1) {\r\n\t\t\t\t\t\tmaxShiftNumber = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (piConfig.piShit > maxShiftNumber) {\r\n\t\t\t\t\t\t//去Config页面\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: 'piconfig'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tme.currentShift = piConfig.piShit;\r\n\t\t\t\t\t\tme.currentMode = piConfig.piMode;\r\n\t\t\t\t\t\t//如果currentMode是全部，则开始show全部盘点名片（默认currentCategorieIndex=2）\r\n\t\t\t\t\t\tif (me.currentMode == 2) {\r\n\t\t\t\t\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift, '', '', me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//去Config页面\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: 'piconfig'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//未选择项目，返回main选择项目\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '../main/main'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//未登录，返回登陆界面\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: '../user/login'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tgraceLoading\r\n\t},\r\n\tonPullDownRefresh: function() {\r\n\t\tuni.reLaunch({\r\n\t\t\turl: 'piconfig',\r\n\t\t\tanimationType: 'slide-in-top',\r\n\t\t\tanimationDuration: 1000\r\n\t\t});\r\n\t\tconsole.log('刷新了');\r\n\t\tuni.stopPullDownRefresh();\r\n\t},\r\n\tonReachBottom() {\r\n\t\tvar me = this;\r\n\t\tif (me.pageIndex >= me.pageCount) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '已显示全部订单, 共' + me.pageCount + '页',\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tme.pageIndex = me.pageIndex + 1;\r\n\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '第' + me.pageIndex + '页, ' + '共' + me.pageCount + '页',\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tclearLocationCode: function() {\r\n\t\t\tthis.locationCode = '';\r\n\t\t},\r\n\t\tclearItemCode: function() {\r\n\t\t\tthis.itemCode = '';\r\n\t\t},\r\n\t\tsearchByLocation: function() {\r\n\t\t\tlet me = this;\r\n\t\t\tif (me.currentMode == 0 && me.locationCode == '') {\r\n\t\t\t\t//按库位\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入库位',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.currentCategorieIndex = 0;\r\n\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t},\r\n\t\tsearchByItem: function() {\r\n\t\t\tlet me = this;\r\n\t\t\tif (me.currentMode == 1 && me.itemCode == '') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入料号',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.currentCategorieIndex = 0;\r\n\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t},\r\n\t\tnavChange: function(index) {\r\n\t\t\tlet me = this;\r\n\t\t\t// 具体的分类id\r\n\t\t\t//this.cate = index;\r\n\t\t\tme.currentCategorieIndex = index;\r\n\t\t\t// 重置分页及数据\r\n\t\t\tme.pageIndex = 0;\r\n\t\t\tme.piList = [];\r\n\t\t\t//this.loadingType = 0;\r\n\t\t\t//this.artList     = [];\r\n\t\t\t// 加载对应分类数据覆盖上一个分类的展示数据 加载更多是继续使用这个分类\r\n\t\t\t//按盘点模式分类处理\r\n\t\t\tif (me.currentMode == 0 && me.locationCode == '') {\r\n\t\t\t\t//按库位\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入库位',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (me.currentMode == 1 && me.itemCode == '') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入料号',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t},\r\n\t\tgetApiData(projectId, shiftId, location, itemCode, isCounted, pageIndex, pageSize) {\r\n\t\t\tlet me = this;\r\n\t\t\tlet serverUrl = me.getServerUrl();\r\n\t\t\tlet userInfo = me.getCurrentUserInfo();\r\n\t\t\tlet condtionStr = 'orderId=' + projectId + '&sequence=' + shiftId + 1 + '&isCounted=' + isCounted + '&paging.pageIndex=' + pageIndex + '&paging.pageSize=' + pageSize;\r\n\t\t\tif (location != '') {\r\n\t\t\t\tcondtionStr += '&locationCode=' + location;\r\n\t\t\t}\r\n\t\t\tif (itemCode != '') {\r\n\t\t\t\tcondtionStr += '&itemCode=' + itemCode;\r\n\t\t\t}\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryLine/GetList?' + condtionStr,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//debugger;\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\tme.userIsLogin = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (res.data.Data.length == 0) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '暂无盘点任务',\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tme.piList = [];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tme.piList = me.piList.concat(res.data.Data);\r\n\t\t\t\t\t\t\t\t//更改isCounted\r\n\t\t\t\t\t\t\t\tvar piShiftDescription = '';\r\n\t\t\t\t\t\t\t\tif (me.currentShift == 0) {\r\n\t\t\t\t\t\t\t\t\tpiShiftDescription = 'isFirstCounted';\r\n\t\t\t\t\t\t\t\t} else if (me.currentShift == 1) {\r\n\t\t\t\t\t\t\t\t\tpiShiftDescription = 'isSecondCounted';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tpiShiftDescription = 'isThirdCounted';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar piListString = JSON.stringify(me.piList).replace(piShiftDescription, 'isCounted');\r\n\t\t\t\t\t\t\t\tme.piList = JSON.parse(piListString);\r\n\t\t\t\t\t\t\t\t//计算多少页\r\n\t\t\t\t\t\t\t\tme.pageCount = Math.ceil(res.data.RecordCount / pageSize);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//return;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常请重试',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tactionUpdate(id, piShift, actualQuantity, index) {\r\n\t\t\tvar me = this;\r\n\t\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\t\tvar serverUrl = me.getServerUrl();\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '数据更新中'\r\n\t\t\t});\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryLine/Update/' + lid + '?sequence=' + piShift + '&actualQuantity=' + actualQuantity,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\tme.userIsLogin = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '更新成功',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tme.CCOrderList[index].IsClosed = 1;\r\n\t\t\t\t\t\t\tme.CCOrderList[index].ActualQuantity = qty;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//return;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常请重试',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.SegmentedControlIn {\r\n\twidth: 500rpx;\r\n\tpadding: 20rpx 125rpx;\r\n}\r\n.ucenter-line {\r\n\twidth: 100%;\r\n\theight: 10px;\r\n\tbackground: #f4f5f6;\r\n\tmargin: 8px 0;\r\n}\r\n.grace-button {\r\n\tdisplay: block;\r\n\twhite-space: nowrap;\r\n\twidth: 120rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pisecond.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pisecond.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1602473638792\n      var cssReload = require(\"C:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}