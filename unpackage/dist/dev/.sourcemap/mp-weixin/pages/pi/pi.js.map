{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?f311","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?ca8f","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?904a","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?5bae","uni-app:///pages/pi/pi.vue","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?3988","webpack:///C:/Data/Code/DotNet.PanDianApp/Project.PhysicalInventory/PandianAppClient.Warehouse/pages/pi/pi.vue?9c88"],"names":["createPage","Page"],"mappings":"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AoDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA,SARA,MAQA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA,SAPA,MAOA;AACA;AACA;AACA;AACA;AACA,KA5FA;AA6FA;AACA;AACA,KA/FA;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;;AAGA,WALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAlCA,MAkCA;AACA;AACA;AACA,2BADA;;AAGA;AACA,OA3CA,MA2CA;AACA;AACA;AACA,8BADA;;AAGA;;AAEA;AACA,KA7JA;;AA+JA,cA/JA,wBA+JA;AACA;AACA,uBADA;;AAGA,KAnKA;;AAqKA,cArKA,sBAqKA,SArKA,EAqKA,OArKA,EAqKA,QArKA,EAqKA,QArKA,EAqKA,SArKA,EAqKA,SArKA,EAqKA,QArKA,EAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,iCAFA;AAGA,6BAHA;AAIA,iCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;;AAGA,eAJA,EAIA,IAJA;;AAMA,aAXA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAlCA,MAkCA;AACA;AACA;AACA;AACA;AACA,SAlDA;AAmDA;AACA;AACA;AACA;AACA,SAvDA;AAwDA;AACA,SAzDA;;AA2DA;AACA;AACA,KA9OA;;AAgPA,qBAhPA,6BAgPA,SAhPA,EAgPA,OAhPA,EAgPA,QAhPA,EAgPA;AACA;AACA;AACA;;AAEA;AACA,wIADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,iCAFA;AAGA,6BAHA;AAIA,iCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;;AAGA,eAJA,EAIA,IAJA;AAKA,aAVA,MAUA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA5BA,MA4BA;AACA;AACA;AACA;AACA;AACA,SA3CA;AA4CA;AACA;AACA;AACA,SA/CA;AAgDA;;AAEA,SAlDA;;AAoDA,KAzSA;;AA2SA,gBA3SA,wBA2SA,EA3SA,EA2SA,OA3SA,EA2SA,cA3SA,EA2SA,KA3SA,EA2SA,KA3SA,EA2SA,MA3SA,EA2SA;AACA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;;AAGA;AACA,mJADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,iCAFA;AAGA,6BAHA;AAIA,iCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,4BAHA;;AAKA,aARA,MAQA;AACA;AACA,6BADA;AAEA,8BAFA;AAGA,+BAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArCA,MAqCA;AACA;AACA;AACA,2CADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA,SAxDA;AAyDA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA,SA/DA;AAgEA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA,SApEA;;AAsEA,KAnYA;AAoYA,gBApYA,wBAoYA,O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","file":"pages/pi/pi.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/pi/pi.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pi.vue?vue&type=template&id=4ed90da6&\"\nvar renderjs\nimport script from \"./pi.vue?vue&type=script&lang=js&\"\nexport * from \"./pi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pi.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pi/pi.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pi.vue?vue&type=template&id=4ed90da6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.addCompany = \"\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.addSite = \"\"\n    }\n\n    _vm.e2 = function($event) {\n      _vm.addWarehouseCode = \"\"\n    }\n\n    _vm.e3 = function($event) {\n      _vm.addLocationCode = \"\"\n    }\n\n    _vm.e4 = function($event) {\n      _vm.addProject = \"\"\n    }\n\n    _vm.e5 = function($event) {\n      _vm.addItemCode = \"\"\n    }\n\n    _vm.e6 = function($event) {\n      _vm.addLotNumber = \"\"\n    }\n\n    _vm.e7 = function($event) {\n      _vm.addActualQuantity = \"\"\n    }\n\n    _vm.e8 = function($event) {\n      _vm.addUnit = \"\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pi.vue?vue&type=script&lang=js&\"","<template>\r\n\t<gracePage :customHeader=\"false\" :isLoading = \"pageLoading\">\r\n\t\t<view slot=\"gBody\" class=\"grace-body\">\r\n\t\t\t\r\n\t\t\t<!-- 全屏 Loading -->\r\n<!-- \t\t\t<graceFullLoading :graceFullLoading=\"graceFullLoading\" \r\n\t\t\t\tlogoUrl=\"https://h5.pandianapp.com/static/img/logo.0047dff0.png\">\r\n\t\t\t</graceFullLoading> -->\r\n\r\n\t\t\t<view class=\"grace-list\">\r\n\t\t\t\t<view class=\"grace-space-between items\" style=\"width: 100%;\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t当前轮次：\r\n\t\t\t\t\t\t<text space=\"emsp\">{{ piShifts[currentShift] }} 方式：{{ piModes[currentMode] }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"icons grace-icons icon-set\" @tap=\"gotoConfig\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"ucenter-line\"></view>\r\n\t\t\t<view class=\"grace-form\">\r\n\t\t\t\t<view v-if=\"currentMode == 0\" class=\"grace-items\">\r\n\t\t\t\t\t<text class=\"grace-icons icon-position grace-light-blue\"></text>\r\n\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t<view class=\"grace-label\">库位</view>\r\n\t\t\t\t\t<input class=\"input text-align-left\" name=\"locationCode\" v-model=\"locationCode\" :disabled=\"locationCodeDisable\" placeholder=\"请扫库位或手动输入\" />\r\n\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanLocationCode\"></view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- <view class=\"grace-form-funs grace-icons icon-close\" @tap=\"clearLocationCode\" v-if=\"locationCode.length>0 && !locationCodeDisable\"></view> -->\r\n\t\t\t\t\t<!-- <button type=\"default\" class=\"grace-button\" @tap=\"searchByLocation\">查找</button> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"currentMode == 0\"><button type=\"primary\" @click=\"searchByLocation\">查找</button></view>\r\n\r\n\t\t\t\t<view v-if=\"currentMode == 1\" class=\"grace-items\">\r\n\t\t\t\t\t<text class=\"dotnet-icons icon-wms-scan grace-blue\"></text>\r\n\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t<view class=\"grace-label\">商品料号</view>\r\n\t\t\t\t\t<input class=\"input text-align-left\" name=\"itemCode\" v-model=\"itemCode\" :disabled=\"itemCodeDisable\" placeholder=\"请扫描或手动输入商品料号\" />\r\n\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanItemCode\"></view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- <view class=\"grace-form-funs grace-icons icon-close\" @tap=\"clearItemCode\" v-if=\"itemCode.length>0 && !itemCodeDisable\"></view> -->\r\n\t\t\t\t\t<!-- <button type=\"default\" class=\"grace-button\" @tap=\"searchByItem\">查找</button> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"currentMode == 1\"><button type=\"primary\" @tap=\"searchByItem\">查找</button></view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"currentMode != 2\" class=\"ucenter-line\"></view>\r\n\r\n\t\t\t<graceNav\r\n\t\t\t\t:items=\"categories\"\r\n\t\t\t\tlineHeight=\"60rpx\"\r\n\t\t\t\t:isCenter=\"true\"\r\n\t\t\t\t:currentIndex=\"currentCategorieIndex\"\r\n\t\t\t\t:size=\"160\"\r\n\t\t\t\tactiveLineBg=\"#3688FF\"\r\n\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\tactiveColor=\"#3688FF\"\r\n\t\t\t\tactiveLineWidth=\"100%\"\r\n\t\t\t\tactiveLineHeight=\"3rpx\"\r\n\t\t\t\t:margin=\"10\"\r\n\t\t\t\t@change=\"navChange\"\r\n\t\t\t></graceNav>\r\n\t\t\t\r\n\t\t\t<!-- 展示数量 - 开始 -->\r\n\t\t\t<view :class=\"categoriesCss\">\r\n\t\t\t\t<view class=\"grace-grids-items\">\r\n\t\t\t\t\t<text class=\"grace-grids-text grace-badge grace-bg-red\">{{(myTotal - myCounted)}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"grace-grids-items\">\r\n\t\t\t\t\t<text class=\"grace-grids-text grace-badge grace-bg-green\">{{myCounted}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"grace-grids-items\">\r\n\t\t\t\t\t<text class=\"grace-grids-text grace-badge grace-bg-gray\">{{myTotal}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 展示数量 - 结束 -->\r\n\t\t\t\r\n\t\t\t<view v-for=\"(piItem, index) in piList\" :key=\"index\" class=\"grace-card-view\">\r\n\t\t\t\t<!-- 初盘 -->\r\n\t\t\t\t<view v-if=\"currentShift == 0\" class=\"body\">\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t仓库：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-blue\">{{ piItem.WarehouseCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>库位：<text :class=\"CCOrder.OrderTypeId == 1 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.LocationCode}}</text></view> -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLocationCodeEnabled == 1\">\r\n\t\t\t\t\t\t\t库位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LocationCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsProjectEnabled == 1\">\r\n\t\t\t\t\t\t\t项目：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Project }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>商品：<text :class=\"CCOrder.OrderTypeId == 2 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.ItemCode}}</text></view> -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t商品：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t描述：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemName }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLotNumberEnabled == 1\">\r\n\t\t\t\t\t\t\t批次号码：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LotNumber }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\">\r\n\t\t\t\t\t\t\t系统数量：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-black\">{{ piItem.SystemQuantity }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 是否显示实际数量 -->\r\n\t\t\t\t\t\t<block v-if=\"piItem.IsFirstCounted == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.FirstActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.FirstCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t单位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.InventoryUnit }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t系统备注：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Remark }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 项目进行中，且是盲盘， 且-->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && currentProjectInfo.IsShowSystemQuantity == 0 && !piItem.ShowUpdated\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<!-- 点击数量有误按钮后显示,项目进行中，且是明盘 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && piItem.ShowWrongQuantity\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"piItem.IsFirstCounted == 0\" class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-todo.png\" />\r\n\t\t\t\t\t\t<view>待处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-handled.png\" />\r\n\t\t\t\t\t\t<view>已处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 复盘 -->\r\n\t\t\t\t<view v-if=\"currentShift == 1\" class=\"body\">\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t仓库：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-blue\">{{ piItem.WarehouseCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>库位：<text :class=\"CCOrder.OrderTypeId == 1 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.LocationCode}}</text></view> -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLocationCodeEnabled == 1\">\r\n\t\t\t\t\t\t\t库位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LocationCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsProjectEnabled == 1\">\r\n\t\t\t\t\t\t\t项目：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Project }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>商品：<text :class=\"CCOrder.OrderTypeId == 2 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.ItemCode}}</text></view> -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t商品：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t描述：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemName }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLotNumberEnabled == 1\">\r\n\t\t\t\t\t\t\t批次号码：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LotNumber }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\">\r\n\t\t\t\t\t\t\t系统数量：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-black\">{{ piItem.SystemQuantity }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 是否显示实际数量 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.IsShowFirstQuantity == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.FirstActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.FirstCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"piItem.IsSecondCounted == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t复盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.SecondActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t复盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.SecondCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t单位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.InventoryUnit }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t系统备注：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Remark }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 项目进行中，且是盲盘 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && currentProjectInfo.IsShowSystemQuantity == 0 && !piItem.ShowUpdated\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<!-- 点击数量有误按钮后显示 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && piItem.ShowWrongQuantity\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"piItem.IsSecondCounted == 0\" class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-todo.png\" />\r\n\t\t\t\t\t\t<view>待处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-handled.png\" />\r\n\t\t\t\t\t\t<view>已处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 三盘 -->\r\n\t\t\t\t<view v-if=\"currentShift == 2\" class=\"body\">\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t仓库：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-blue\">{{ piItem.WarehouseCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>库位：<text :class=\"CCOrder.OrderTypeId == 1 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.LocationCode}}</text></view> -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLocationCodeEnabled == 1\">\r\n\t\t\t\t\t\t\t库位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LocationCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsProjectEnabled == 1\">\r\n\t\t\t\t\t\t\t项目：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Project }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view>商品：<text :class=\"CCOrder.OrderTypeId == 2 ? 'grace-badge grace-bg-blue' : ''\">{{CCOrder.ItemCode}}</text></view> -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t商品：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemCode }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t描述：\r\n\t\t\t\t\t\t\t<text>{{ piItem.ItemName }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLotNumberEnabled == 1\">\r\n\t\t\t\t\t\t\t批次号码：\r\n\t\t\t\t\t\t\t<text>{{ piItem.LotNumber }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\">\r\n\t\t\t\t\t\t\t系统数量：\r\n\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-black\">{{ piItem.SystemQuantity }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 是否显示实际数量 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.IsShowFirstQuantity == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.FirstActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t初盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.FirstCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.IsShowSecondQuantity == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t复盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.SecondActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t复盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.SecondCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"piItem.isThirdCounted == 1\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t三盘数量：\r\n\t\t\t\t\t\t\t\t<text class=\"grace-badge grace-bg-red\">{{ piItem.ThirdActualQuantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t三盘备注：\r\n\t\t\t\t\t\t\t\t<text>{{ piItem.ThirdCountedRemark }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<!-- 是否显示实际数量 -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t单位：\r\n\t\t\t\t\t\t\t<text>{{ piItem.InventoryUnit }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t系统备注：\r\n\t\t\t\t\t\t\t<text>{{ piItem.Remark }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 项目进行中，且是盲盘 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && currentProjectInfo.IsShowSystemQuantity == 0 && !piItem.ShowUpdated\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<!-- 点击数量有误按钮后显示 -->\r\n\t\t\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20 && piItem.ShowWrongQuantity\">\r\n\t\t\t\t\t\t\t<input class=\"quantityInput\" clearable type=\"digit\" name=\"updateActualQuantity\" v-model=\"updateActualQuantity[index]\" placeholder=\"请输入盘点数量\" />\r\n\t\t\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"piRemark\" v-model=\"piRemark[index]\" class=\"feedback-textare\" /></view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"piItem.IsThirdCounted == 0\" class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-todo.png\" />\r\n\t\t\t\t\t\t<view>待处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/icon-wms-handled.png\" />\r\n\t\t\t\t\t\t<view>已处理</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- footer action 项目进行中-->\r\n\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 20\">\r\n\t\t\t\t\t<!-- 此条是否已完成 -->\r\n\t\t\t\t\t<block v-if=\"!piItem.ShowUpdated\">\r\n\t\t\t\t\t\t<!-- 明盘 -->\r\n\t\t\t\t\t\t<view v-if=\"currentProjectInfo.IsShowSystemQuantity == 1\" class=\"footer\">\r\n\t\t\t\t\t\t\t<block v-if=\"!piItem.ShowWrongQuantity\">\r\n\t\t\t\t\t\t\t\t<view @tap=\"actionUpdate(piItem.Id, currentShift + 1, piItem.SystemQuantity, index, false, '账实相符')\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-like grace-green\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t\t\t\t账实相符\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <view @tap=\"piItem.ShowWrongQuantity = true\"> -->\r\n\t\t\t\t\t\t\t\t<view @tap=\"showWrongQuantity(index)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-question grace-red\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t\t\t\t数量有误\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <view @tap=\"actionUpdate(piItem.Id, currentShift + 1, 0, index, false, piRemark[index])\"> -->\r\n\t\t\t\t\t\t\t\t<view @tap=\"actionUpdate(piItem.Id, currentShift + 1, 0, index, false, '无此库存')\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"dotnet-icons icon-wms-dislike grace-gray\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t\t\t\t无此库存\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view @tap=\"actionUpdate(piItem.Id, currentShift + 1, updateActualQuantity[index], index, true, piRemark[index])\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"dotnet-icons iconwms-save grace-green\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t\t\t\t提交盘点\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- <button class=\"btn-submit\" type=\"primary\" @tap=\"actionUpdate(piItem.Id, currentShift + 1, updateActualQuantity[index], index, true, piRemark[index])\">提交</button> -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 盲盘 -->\r\n\t\t\t\t\t\t<view v-else class=\"footer\">\r\n\t\t\t\t\t\t\t<view @tap=\"actionUpdate(piItem.Id, currentShift + 1, updateActualQuantity[index], index, true, piRemark[index])\">\r\n\t\t\t\t\t\t\t\t<view class=\"dotnet-icons iconwms-save grace-green\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t\t\t\t提交盘点\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <button class=\"btn-submit\" type=\"primary\" @tap=\"actionUpdate(piItem.Id, currentShift + 1, updateActualQuantity[index], index, true, piRemark[index])\">提交</button> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t\t已完成\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</block>\r\n\t\t\t\t<!-- footer action 项目已结束-->\r\n\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 0\">\r\n\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t项目已取消\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 1 || currentProjectInfo.OrderStatusCode == 10\">\r\n\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t项目创建中\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 50\">\r\n\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t项目暂停\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"currentProjectInfo.OrderStatusCode == 100\">\r\n\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t项目已完成\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 新添加 -->\r\n\t\t\t<view v-if=\"currentCategorieIndex == 3\" class=\"grace-margin-top\">\r\n\t\t\t\t<view class=\"grace-form grace-margin-top\">\r\n\t\t\t\t\t<view v-if=\"currentProjectInfo.IsCompanyEnabled == 1\" class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-star grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">公司</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addCompany\" v-model=\"addCompany\" placeholder=\"请扫公司或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addCompany = ''\" v-if=\"addCompany.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanCompany\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"currentProjectInfo.IsSiteEnabled == 1\" class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-star grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">工厂</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addSite\" v-model=\"addSite\" placeholder=\"请扫工厂或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addSite = ''\" v-if=\"addSite.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanSite\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"dotnet-icons icon-wms-by-location grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">仓库</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addWarehouseCode\" v-model=\"addWarehouseCode\" placeholder=\"请扫仓库或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addWarehouseCode = ''\" v-if=\"addWarehouseCode.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanWarehouseCode\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-position grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">库位</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addLocationCode\" v-model=\"addLocationCode\" placeholder=\"请扫库位或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addLocationCode = ''\" v-if=\"addLocationCode.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanAddLocationCode\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"currentProjectInfo.IsProjectEnabled == 1\" class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-star grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">项目</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addProject\" v-model=\"addProject\" placeholder=\"请扫项目或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addProject = ''\" v-if=\"addProject.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanProject\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"dotnet-icons icon-wms-scan grace-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">商品</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addItemCode\" v-model=\"addItemCode\" placeholder=\"请扫料号或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addItemCode = ''\" v-if=\"addItemCode.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanAddItemCode\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"currentProjectInfo.IsLotNumberEnabled == 1\" class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-share3 grace-light-blue\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">批次</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" name=\"addLotNumber\" v-model=\"addLotNumber\" placeholder=\"请扫批次或手动输入\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addLotNumber = ''\" v-if=\"addLotNumber.length > 0\"></view>\r\n\t\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t\t<view class=\"grace-icons icon-photograph icon grace-blue\" @tap=\"scanLotNumber\"></view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"dotnet-icons icon-wms-check grace-red\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">数量</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" clearable type=\"digit\" name=\"addActualQuantity\" v-model=\"addActualQuantity\" placeholder=\"请输入数量\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addActualQuantity = ''\" v-if=\"addActualQuantity.length > 0\"></view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"grace-items\">\r\n\t\t\t\t\t\t<text class=\"grace-icons icon-keyboard grace-red\"></text>\r\n\t\t\t\t\t\t<text class=\"margin-right-ten\"></text>\r\n\t\t\t\t\t\t<view class=\"grace-label\">单位</view>\r\n\t\t\t\t\t\t<input class=\"input text-align-left\" type=\"text\" name=\"addUnit\" v-model=\"addUnit\" placeholder=\"请输入单位\" />\r\n\t\t\t\t\t\t<view class=\"grace-form-funs grace-icons icon-close\" @tap=\"addUnit = ''\" v-if=\"addUnit.length > 0\"></view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view><textarea placeholder=\"备注...\" name=\"addRemark\" v-model=\"addRemark\" class=\"addRemark\" /></view>\r\n\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t@tap=\"\r\n\t\t\t\t\t\t\taddNewPiItem(\r\n\t\t\t\t\t\t\t\tcurrentProjectInfo.Id,\r\n\t\t\t\t\t\t\t\tcurrentShift + 1,\r\n\t\t\t\t\t\t\t\taddCompany,\r\n\t\t\t\t\t\t\t\taddSite,\r\n\t\t\t\t\t\t\t\taddWarehouseCode,\r\n\t\t\t\t\t\t\t\taddLocationCode,\r\n\t\t\t\t\t\t\t\taddProject,\r\n\t\t\t\t\t\t\t\taddItemCode,\r\n\t\t\t\t\t\t\t\taddLotNumber,\r\n\t\t\t\t\t\t\t\taddActualQuantity,\r\n\t\t\t\t\t\t\t\taddUnit,\r\n\t\t\t\t\t\t\t\taddRemark\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button class=\"btn-submit\" type=\"primary\">立即保存</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 加载完毕\t -->\r\n\t\t\t<view class=\"grace-margin-top\"></view>\r\n\t\t\t<view v-if=\"allLoaded\" class=\"img grace-flex-center grace-wrap title\"><view>已加载全部数据</view></view>\r\n\t\t\r\n\t\t\t<graceHeaderAlert ref=\"showErrorMessage\" background=\"#FF0036\">\r\n\t\t\t\t<text class=\"grace-h5 grace-white\">{{ errorMessage }}</text>\r\n\t\t\t</graceHeaderAlert>\r\n\t\t\t\r\n\t\t\t<graceHeaderAlert ref=\"showSucessMessage\" background=\"#9DD26D\">\r\n\t\t\t\t<text class=\"grace-icons icon-right grace-white grace-h5\" style=\"margin-right:20rpx;\"></text>\r\n\t\t\t\t<text class=\"grace-h5 grace-white\">{{ sucessMessage }}</text>\r\n\t\t\t</graceHeaderAlert>\r\n\t\t\t\r\n\t\t</view>\r\n\t</gracePage>\r\n</template>\r\n\r\n<script>\r\n\timport gracePage from \"../../graceUI/components/gracePage.vue\";\r\n\timport graceHeaderAlert from '../../graceUI/components/graceHeaderAlert.vue';\r\n\timport graceFullLoading from \"../../graceUI/components/graceFullLoading.vue\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserIsLogin: false,\r\n\t\t\tcurrentProjectInfo: {},\r\n\t\t\tpiShifts: ['初盘', '复盘', '三盘'],\r\n\t\t\tcurrentShift: 0,\r\n\t\t\tpiModes: ['按库位', '按商品', '全部'],\r\n\t\t\tcurrentMode: 2,\r\n\r\n\t\t\tlocationCode: '',\r\n\t\t\titemCode: '',\r\n\t\t\tlocationCodeDisable: false,\r\n\t\t\titemCodeDisable: false,\r\n\r\n\t\t\tcategories: ['未完成', '已完成', '全部'],\r\n\t\t\tcurrentCategorieIndex: 0,\r\n\t\t\tcategoriesCss: 'grace-grids three',\r\n\t\t\t// 盘点数据\r\n\t\t\tpiList: [],\r\n\t\t\tpageIndex: 0,\r\n\t\t\t//pageIndex从0开始\r\n\t\t\tpageSize: 20,\r\n\t\t\tpageCount: 0,\r\n\t\t\t\r\n\t\t\tmyCounted: 0,\r\n\t\t\tmyTotal: 0,\r\n\t\t\tmyProgress: 0,\r\n\r\n\t\t\taddCompany: '',\r\n\t\t\taddSite: '',\r\n\t\t\taddWarehouseCode: '',\r\n\t\t\taddLocationCode: '',\r\n\t\t\taddProject: '',\r\n\t\t\taddItemCode: '',\r\n\t\t\taddLotNumber: '',\r\n\t\t\taddActualQuantity: '',\r\n\t\t\taddUnit: '',\r\n\t\t\taddRemark: '',\r\n\t\t\tupdateActualQuantity: [],\r\n\t\t\tpiRemark: [],\r\n\t\t\tallLoaded: false,\r\n\t\t\tpageLoading: false,\r\n\t\t\t//graceFullLoading : false,\r\n\t\t\t//showErrorMessage: false,\r\n\t\t\terrorMessage: '',\r\n\t\t\t//showSucessMessage: false,\r\n\t\t\tsucessMessage: ''\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.pageOnLoad();\r\n\t},\r\n\t\r\n\tcomponents: {\r\n\t\tgracePage, graceHeaderAlert, graceFullLoading\r\n\t},\r\n\tonPullDownRefresh: function() {\r\n\t\tvar me = this;\r\n\t\tme.pageLoading = true;\r\n\t\tme.navChange(me.currentCategorieIndex);\r\n\t\t//console.log('当nav：' + me.currentCategorieIndex);\r\n\t\tuni.stopPullDownRefresh();\r\n\t},\r\n\tonReachBottom() {\r\n\t\tvar me = this;\r\n\t\tme.pageIndex = me.pageIndex + 1;\r\n\t\tif (me.currentCategorieIndex == 3) {\r\n\t\t\treturn;\r\n\t\t} else if (me.pageIndex >= me.pageCount) {\r\n\t\t\tme.allLoaded = true;\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tme.pageLoading = true;\r\n\t\t\t\r\n\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift + 1, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '第' + me.pageIndex + '页, ' + '共' + me.pageCount + '页',\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tonNavigationBarButtonTap(e) {\r\n\t\tif (e.type == 'menu') {\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: 'piconfig'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tclearLocationCode: function() {\r\n\t\t\tthis.locationCode = '';\r\n\t\t},\r\n\t\tclearItemCode: function() {\r\n\t\t\tthis.itemCode = '';\r\n\t\t},\r\n\t\tscanLocationCode: function() {\r\n\t\t\tvar me = this;\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tme.locationCode = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanItemCode: function() {\r\n\t\t\tvar me = this;\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tme.itemCode = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsearchByLocation: function() {\r\n\t\t\tlet me = this;\r\n\t\t\tif (me.currentMode == 0 && me.locationCode == '') {\r\n\t\t\t\t//按库位\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入库位',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tuni.vibrate();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.currentCategorieIndex = 0;\r\n\t\t\tme.navChange(0);\r\n\t\t},\r\n\t\tsearchByItem: function() {\r\n\t\t\tlet me = this;\r\n\t\t\tif (me.currentMode == 1 && me.itemCode == '') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入料号',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tuni.vibrate();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.currentCategorieIndex = 0;\r\n\t\t\tme.navChange(0);\r\n\t\t},\r\n\t\tnavChange: function(index) {\r\n\t\t\tlet me = this;\r\n\r\n\t\t\tme.currentCategorieIndex = index;\r\n\t\t\tme.pageIndex = 0;\r\n\t\t\tme.piList = [];\r\n\t\t\tme.updateActualQuantity = [];\r\n\t\t\tme.piRemark = [];\r\n\t\t\tif (me.currentCategorieIndex == 3) {\r\n\t\t\t\tif (me.currentMode == 0 && me.locationCode != '') {\r\n\t\t\t\t\tme.addLocationCode = me.locationCode;\r\n\t\t\t\t}\r\n\t\t\t\tif (me.currentMode == 1 && me.itemCode != '') {\r\n\t\t\t\t\tme.addItemCode = me.itemCode;\r\n\t\t\t\t}\r\n\t\t\t\t//return;\r\n\t\t\t} else {\r\n\t\t\t\tme.pageLoading = true;\r\n\t\t\t\t//me.graceFullLoading = true;\r\n\t\t\t\t\r\n\t\t\t\tif (me.currentMode == 0 && me.locationCode == '') {\r\n\t\t\t\t\t//按库位\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入库位',\r\n\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (me.currentMode == 1 && me.itemCode == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入料号',\r\n\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift + 1, me.locationCode, me.itemCode, me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//me.pageLoading = false;\r\n\t\t},\r\n\t\tshowWrongQuantity: function(index) {\r\n\t\t\tthis.piList[index].ShowWrongQuantity = true;\r\n\t\t},\r\n\r\n\t\tpageOnLoad: function() {\r\n\t\t\tvar me = this;\r\n\t\t\tme.pageLoading = true;\r\n\t\t\t// setTimeout(() => {\r\n\t\t\t// \tme.pageLoading = false;\r\n\t\t\t// }, 1500);\r\n\t\t\t//me.graceFullLoading = true;\r\n\t\t\t\r\n\t\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\t\tif (userInfo != null) {\r\n\t\t\t\tvar currentProjectInfo = me.getCurrentProjectInfo();\r\n\t\t\t\tvar piConfig = me.getPiConfig();\r\n\t\t\t\tif (currentProjectInfo != null && piConfig != null) {\r\n\t\t\t\t\t//更新当前项目的数据 - 防止后端更改了数据，前端未更新\r\n\t\t\t\t\tme.updateCurrentProjectInfo(currentProjectInfo.Id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tme.currentProjectInfo = currentProjectInfo;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar maxShiftNumber = 0;\r\n\t\t\t\t\tif (currentProjectInfo.IsSecondEnabled == 1) {\r\n\t\t\t\t\t\tmaxShiftNumber = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (currentProjectInfo.IsThirdEnabled == 1) {\r\n\t\t\t\t\t\tmaxShiftNumber = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (piConfig.piShit > maxShiftNumber) {\r\n\t\t\t\t\t\t//去Config页面\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: 'piconfig'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tme.currentShift = piConfig.piShit;\r\n\t\t\t\t\t\tme.currentMode = piConfig.piMode;\r\n\t\t\t\t\t\t//如果currentMode是全部，则开始show全部盘点名片（默认currentCategorieIndex=2）\r\n\t\t\t\t\t\tif (me.currentMode == 2) {\r\n\t\t\t\t\t\t\tme.getApiData(me.currentProjectInfo.Id, me.currentShift + 1, '', '', me.currentCategorieIndex, me.pageIndex, me.pageSize);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (currentProjectInfo.OrderStatusCode == 20) {\r\n\t\t\t\t\t\t\tme.categories = ['未完成', '已完成', '全部', '新增加'];\r\n\t\t\t\t\t\t\tme.categoriesCss = 'grace-grids four';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tme.changeNavigationBarTitle(currentProjectInfo.Name);\r\n\t\t\t\t\t\t//console.log('当前盘点轮次：' + me.currentShift);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log(maxShiftNumber);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//未选择项目，返回main选择项目\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: 'piconfig'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//未登录，返回登陆界面\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '../user/login'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//me.pageLoading = false;\r\n\t\t},\r\n\r\n\t\tgotoConfig() {\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: 'piconfig'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetApiData(projectId, shiftId, location, itemCode, isCounted, pageIndex, pageSize) {\r\n\t\t\tlet me = this;\r\n\t\t\tlet serverUrl = me.getServerUrl();\r\n\t\t\tlet userInfo = me.getCurrentUserInfo();\r\n\t\t\tlet condtionStr = 'orderId=' + projectId + '&sequence=' + shiftId + '&isCounted=' + isCounted + '&paging.pageIndex=' + pageIndex + '&paging.pageSize=' + pageSize;\r\n\t\t\tif (location != '') {\r\n\t\t\t\tcondtionStr += '&locationCode=' + location;\r\n\t\t\t}\r\n\t\t\tif (itemCode != '') {\r\n\t\t\t\tcondtionStr += '&itemCode=' + itemCode;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryLine/GetList?' + condtionStr,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//debugger;\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\t//me.showErrorMessage = !me.showErrorMessage;\r\n\t\t\t\t\t\t\tme.errorMessage = \"用户已异地登录\";\r\n\t\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: \"../user/login\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//console.log(serverUrl + '/PhysicalInventoryLine/GetList?' + condtionStr);\r\n\t\t\t\t\t\t\tif (res.data.Data.length == 0) {\r\n\t\t\t\t\t\t\t\t//console.log(res.data.Data);\r\n\t\t\t\t\t\t\t\tme.errorMessage = \"暂无盘点任务\";\r\n\t\t\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t\t\t\tme.piList = [];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < res.data.Data.length; i++) {\r\n\t\t\t\t\t\t\t\t\tres.data.Data[i].ShowWrongQuantity = false;\r\n\t\t\t\t\t\t\t\t\tres.data.Data[i].ShowUpdated = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tme.piList = me.piList.concat(res.data.Data);\r\n\t\t\t\t\t\t\t\t//console.log(res.data.Data);\r\n\t\t\t\t\t\t\t\t//计算多少页\r\n\t\t\t\t\t\t\t\tme.pageCount = Math.ceil(res.data.RecordCount / pageSize);\r\n\t\t\t\t\t\t\t\tme.allLoaded = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//更新项目信息\r\n\t\t\t\t\t\t\tme.getLineStatistics(me.currentProjectInfo.Id, me.currentShift + 1, userInfo.UserName);\r\n\t\t\t\t\t\t\tme.updateCurrentProjectInfo(me.currentProjectInfo.Id);\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//me.showErrorMessage = !me.showErrorMessage;\r\n\t\t\t\t\t\tme.errorMessage = res.data.StatusMessage;\r\n\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\t//me.showErrorMessage = !me.showErrorMessage;\r\n\t\t\t\t\tme.errorMessage = \"网络异常请重试\";\r\n\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//me.pageLoading = false;\r\n\t\t\t//me.graceFullLoading = false;\r\n\t\t},\r\n\t\t\r\n\t\tgetLineStatistics(projectId, piShift, userName) {\r\n\t\t\tlet me = this;\r\n\t\t\tlet serverUrl = me.getServerUrl();\r\n\t\t\tlet userInfo = me.getCurrentUserInfo();\r\n\t\t\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryOrder/GetLineStatistics/' + projectId + '?sequence=' + piShift + '&groupBy=OperatorUserName',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\t//me.showErrorMessage = !me.showErrorMessage;\r\n\t\t\t\t\t\t\tme.errorMessage = \"用户已异地登录\";\r\n\t\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: \"../user/login\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (res.data.Data == null) {\r\n\t\t\t\t\t\t\t\t//无数据\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//console.log(res.data.Data);\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < res.data.Data.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (res.data.Data[i].GroupBy == userName) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.data.Data[i].TotalLines > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar result = Math.ceil((res.data.Data[i].CountedLines / res.data.Data[i].TotalLines) * 100);\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.myCounted = res.data.Data[i].CountedLines;\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.myTotal = res.data.Data[i].TotalLines;\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.myProgress = result;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\tme.errorMessage = res.data.StatusMessage;\r\n\t\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tme.errorMessage = '网络异常请重试';\r\n\t\t\t\t\tme.$refs.showErrorMessage.open();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tactionUpdate(id, piShift, actualQuantity, index, input, remark) {\r\n\t\t\tvar me = this;\r\n\t\t\tif (input && me.updateActualQuantity[index] == null) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写实际数量',\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (input && remark == undefined) {\r\n\t\t\t\tremark = '数量有误';\r\n\t\t\t}\r\n\t\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\t\tvar serverUrl = me.getServerUrl();\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '数据更新中'\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryLine/Update/' + id + '?sequence=' + piShift + '&actualQuantity=' + actualQuantity + '&remark=' + remark,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\tme.userIsLogin = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '更新成功',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//隐藏按钮,隐藏输入框\r\n\t\t\t\t\t\t\tme.piList[index].ShowUpdated = true;\r\n\t\t\t\t\t\t\tme.piList[index].ShowWrongQuantity = false;\r\n\t\t\t\t\t\t\t//改变页面数据\r\n\t\t\t\t\t\t\tif (me.currentShift == 0) {\r\n\t\t\t\t\t\t\t\tme.piList[index].IsFirstCounted = 1;\r\n\t\t\t\t\t\t\t\tme.piList[index].FirstActualQuantity = actualQuantity;\r\n\t\t\t\t\t\t\t\tme.piList[index].FirstCountedRemark = remark;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (me.currentShift == 1) {\r\n\t\t\t\t\t\t\t\tme.piList[index].IsSecondCounted = 1;\r\n\t\t\t\t\t\t\t\tme.piList[index].SecondActualQuantity = actualQuantity;\r\n\t\t\t\t\t\t\t\tme.piList[index].SecondCountedRemark = remark;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (me.currentShift == 2) {\r\n\t\t\t\t\t\t\t\tme.piList[index].IsThirdCounted = 1;\r\n\t\t\t\t\t\t\t\tme.piList[index].ThirdActualQuantity = actualQuantity;\r\n\t\t\t\t\t\t\t\tme.piList[index].ThirdCountedRemark = remark;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//刷新projectInfor\r\n\t\t\t\t\t\t\tme.updateCurrentProjectInfo(me.currentProjectInfo.Id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//return;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常请重试',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddNewPiItem(orderId, piShift, company, site, warehouseCode, locationCode, Project, itemCode, lotNumber, actualQuantity, inventoryUnit, remark) {\r\n\t\t\t//debugger;\r\n\t\t\tvar me = this;\r\n\t\t\tif (warehouseCode == null) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写仓库代码',\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (itemCode == null) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写料号',\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (actualQuantity == null) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写盘点数量',\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (inventoryUnit == null) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写盘点单位',\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar userInfo = me.getCurrentUserInfo();\r\n\t\t\tvar serverUrl = me.getServerUrl();\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '数据更新中'\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryLine/Add?orderId=' + orderId + '&sequence=' + piShift,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tOrderId: orderId,\r\n\t\t\t\t\tCompany: company,\r\n\t\t\t\t\tSite: site,\r\n\t\t\t\t\tWarehouseCode: warehouseCode,\r\n\t\t\t\t\tLocationCode: locationCode,\r\n\t\t\t\t\tItemCode: itemCode,\r\n\t\t\t\t\tActualQuantity: actualQuantity,\r\n\t\t\t\t\tInventoryUnit: inventoryUnit,\r\n\t\t\t\t\tCountedRemark: remark,\r\n\t\t\t\t\tProject: Project,\r\n\t\t\t\t\tLotNumber: lotNumber\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\tme.userIsLogin = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//Relauch页面到已完成\r\n\t\t\t\t\t\t\tme.currentCategorieIndex = 1;\r\n\t\t\t\t\t\t\tme.navChange(1);\r\n\t\t\t\t\t\t\t//刷新projectInfor\r\n\t\t\t\t\t\t\tme.updateCurrentProjectInfo(me.currentProjectInfo.Id);\r\n\t\t\t\t\t\t\t//清空填入内容\r\n\t\t\t\t\t\t\tme.addCompany = '';\r\n\t\t\t\t\t\t\tme.addSite = '';\r\n\t\t\t\t\t\t\tme.addWarehouseCode = '';\r\n\t\t\t\t\t\t\tme.addLocationCode = '';\r\n\t\t\t\t\t\t\tme.addProject = '';\r\n\t\t\t\t\t\t\tme.addItemCode = '';\r\n\t\t\t\t\t\t\tme.addLotNumber = '';\r\n\t\t\t\t\t\t\tme.addActualQuantity = '';\r\n\t\t\t\t\t\t\tme.addUnit = '';\r\n\t\t\t\t\t\t\tme.addRemark = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//return;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常请重试',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdateCurrentProjectInfo(projectId) {\r\n\t\t\t//更新数据或新加数据后，更新projectInfo\r\n\t\t\tlet me = this;\r\n\t\t\tlet serverUrl = me.getServerUrl();\r\n\t\t\tlet userInfo = me.getCurrentUserInfo();\r\n\t\t\tuni.request({\r\n\t\t\t\turl: serverUrl + '/PhysicalInventoryOrder/Get/' + projectId,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tappKey: me.appKey,\r\n\t\t\t\t\tappSecret: me.appSecret,\r\n\t\t\t\t\tuserId: userInfo.Id,\r\n\t\t\t\t\topenId: userInfo.OpenId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.Status) {\r\n\t\t\t\t\t\tif (res.data.StatusCode == 'UserNotLogin') {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('currentUserInfo');\r\n\t\t\t\t\t\t\tme.userIsLogin = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '用户已异地登录',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tme.currentProjectInfo = res.data.Data;\r\n\t\t\t\t\t\t\tuni.setStorageSync('currentProjectInfo', me.currentProjectInfo);\r\n\t\t\t\t\t\t\t//console.log(res.data.Data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.StatusMessage,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常请重试',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tme.pageLoading = false;\r\n\t\t\t//me.graceFullLoading = false;\r\n\t\t},\r\n\t\tchangeNavigationBarTitle: function(titleName) {\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: titleName\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanCompany() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addCompany = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanSite() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addSite = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanWarehouseCode() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addWarehouseCode = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanAddLocationCode() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addLocationCode = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanProject() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addProject = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanAddItemCode() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addItemCode = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tscanLotNumber() {\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.addLotNumber = res.result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tonShareAppMessage(res) {\r\n\t\treturn {\r\n\t\t\ttitle: '盘点App - 一款省时，省力，省钱的仓库盘点工具',\r\n\t\t\tpath: '/pages/help/help'\r\n\t\t};\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.SegmentedControlIn {\r\n\twidth: 500rpx;\r\n\tpadding: 20rpx 125rpx;\r\n}\r\n.ucenter-line {\r\n\twidth: 100%;\r\n\theight: 10px;\r\n\tbackground: #f4f5f6;\r\n\tmargin: 8px 0;\r\n}\r\n.grace-button {\r\n\tdisplay: block;\r\n\twhite-space: nowrap;\r\n\twidth: 120rpx;\r\n}\r\n.quantityInput {\r\n\theight: 50upx;\r\n\tmargin: 15upx 0 20upx;\r\n\tpadding: 2upx 5upx 2upx;\r\n\tbackground-color: #ecd1a8;\r\n\twidth: 60%;\r\n\tfont-size: 30upx;\r\n}\r\n.feedback-textare {\r\n\theight: 80upx;\r\n\tfont-size: 30upx;\r\n\t/* line-height: 50upx; */\r\n\twidth: 90%;\r\n\tbox-sizing: border-box;\r\n\tpadding: 2upx 5upx 0;\r\n\tbackground-color: #eeeeee;\r\n}\r\n.addRemark {\r\n\theight: 100upx;\r\n\tfont-size: 34upx;\r\n\tline-height: 50upx;\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n\tpadding: 2upx 5upx 0;\r\n\tbackground-color: #eeeeee;\r\n\tmargin: 15upx 0 20upx;\r\n}\r\n.four > .grace-grids-items{width:175rpx;}\r\n.three > .grace-grids-items{width:230rpx;}\r\n.grace-grids-text{line-height:50rpx; width:50%; text-align:center; font-size:24rpx; margin-top:2px;}\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pi.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pi.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603765162526\n      var cssReload = require(\"C:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}