(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/changepassword"],{"0409":function(e,s,t){"use strict";t.r(s);var o=t("91a6"),n=t("d094");for(var a in n)"default"!==a&&function(e){t.d(s,e,function(){return n[e]})}(a);var r,d=t("f0c5"),u=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);s["default"]=u.exports},"91a6":function(e,s,t){"use strict";var o,n=function(){var e=this,s=e.$createElement;e._self._c;e._isMounted||(e.e0=function(s){e.showPassword=!e.showPassword},e.e1=function(s){e.showPassword=!e.showPassword},e.e2=function(s){e.showPassword=!e.showPassword})},a=[];t.d(s,"b",function(){return n}),t.d(s,"c",function(){return a}),t.d(s,"a",function(){return o})},a935:function(e,s,t){"use strict";(function(e){t("a13b"),t("921b");o(t("66fd"));var s=o(t("0409"));function o(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,t("543d")["createPage"])},c361:function(e,s,t){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t={data:function(){return{oldPassword:"",newPassword:"",repeatPassword:"",showPassword:!1}},onLoad:function(){var s=this,t=s.getGlobalUser("globalUser");null===t&&e.reLaunch({url:"../user/login"})},methods:{changePassword:function(){var s=this;if(s.oldPassword.length<6)e.showToast({icon:"none",title:"当前密码最短为 6 个字符"});else if(s.newPassword.length<6||s.repeatPassword.length<6)e.showToast({icon:"none",title:"新密码最短为 6 个字符"});else if(s.newPassword==s.repeatPassword){var t=s.getGlobalUser("globalUser");e.request({url:s.getServerUrl()+"/User/ChangePassword?oldPassword="+s.oldPassword+"&newPassword="+s.newPassword,method:"POST",header:{appKey:s.appKey,appSecret:s.appSecret,userId:JSON.stringify(t.Id),openId:JSON.stringify(t.OpenId),userInfo:encodeURI(JSON.stringify(t))},success:function(s){1==s.data.Status?(e.showToast({title:"更改成功"}),setTimeout(function(){e.reLaunch({url:"usercenter"})},1e3)):e.showToast({title:s.data.StatusMessage,duration:2e3})}})}else e.showToast({icon:"none",title:"新密码两次输入不一致"})},onNavigationBarButtonTap:function(s){if(console.log(s),"保存"==s.text){var t=this;if(t.oldPassword.length<6)return void e.showToast({icon:"none",title:"当前密码最短为 6 个字符"});if(t.newPassword.length<6||t.repeatPassword.length<6)return void e.showToast({icon:"none",title:"新密码最短为 6 个字符"});if(t.newPassword!=t.repeatPassword)return void e.showToast({icon:"none",title:"新密码两次输入不一致"});var o=t.getGlobalUser("globalUser");e.request({url:t.getServerUrl()+"/User/ChangePassword?oldPassword="+t.oldPassword+"&newPassword="+t.newPassword,method:"POST",header:{appKey:t.appKey,appSecret:t.appSecret,userId:JSON.stringify(o.Id),openId:JSON.stringify(o.OpenId),userInfo:encodeURI(JSON.stringify(o))},success:function(s){1==s.data.Status?s.data.Data.length>0&&e.reLaunch({url:"usercenter"}):e.showToast({title:s.data.StatusMessage,duration:2e3})}}),console.log("保存")}else"back"==s.type&&e.reLaunch({url:"usercenter"})}}};s.default=t}).call(this,t("543d")["default"])},d094:function(e,s,t){"use strict";t.r(s);var o=t("c361"),n=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(s,e,function(){return o[e]})}(a);s["default"]=n.a}},[["a935","common/runtime","common/vendor"]]]);